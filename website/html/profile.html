<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>MeTube</title>
    <link rel='stylesheet' href="{{url_for('static', filename='website/css/style.css')}}">
</head>
<body>
    <main>
        <div id='nav'>
            <a href='/' id='logo_img_link' title='Home'><img src='/MeTube/assets/logo.png' alt='MeTube'></a>
            <div id='nav_search_div'>
                <form action="/search/" method="GET">
                    <input type="text" placeholder="Search..." id='nav_search_bar' name='query'>
        
                    <input type='submit' value='Search' id='nav_search_btn' class='nav_btn'>
                </form>
            </div>
            <div id='nav_end'>
                <a href="/upload/" id='nav_upload_btn' class='nav_btn'>Upload</a>
        
                <img src="/MeTube/assets/blank_user.svg" alt="Blank user image" id='nav_profile_image'>
            </div>
        </div>
        {% if user_exists %}
            <div id='user_information'>
                <span>
                    {{user_data[0]['username']}}<br>
                    {{videos|length}} videos
                </span>
                <img src="{{user_data[0]['img']}}" alt="{{username}}s profile image" width='175px'>
            </div>
            {% if user_has_videos %}
            <div id='preview_container'>
                {% for preview_list in videos %}
                <a class='video_preview' href='/play/{{preview_list["video_id"]}}/'>
                    <img src="/MeTube/videos/{{preview_list['video_id']}}/thumbnail.png" class='preview_thumbnail'>
                    <div class='preview_title'>{{ preview_list['title'] }}</div>
                    <div class='preview_desc'>{{ preview_list['description'] }}</div>
                </a>
                {% endfor %}
            </div>
            {% else %}
                <h2>This user has not posted any videos yet...</h2>
            {% endif %}
        {% else %}
            <h1>Sorry, but there is no user named {{username}}</h1>
        {% endif %}
    </main>
</body>
</html>